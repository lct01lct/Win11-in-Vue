<template>
  <div class="pathTool">
    <span class="historyBtn">ğŸ”™</span>
    <span class="historyBtn">ğŸ”œ</span>
    <span class="historyBtn">ğŸ”</span>
    <div class="path">
      <img :src="`src/assets/img/setting/${headerIcon}`" alt="" />
      <input type="text" id="input" v-model.lazy.trim="inputPath" @keydown.enter="goTargetPath"/>
      <label for="input" class="path-content">
        <span v-for="item in mock" :key="item">{{ item }}</span>
      </label>
    </div>
    <div class="search">
      <img src="src/assets/img/setting/search.png" alt="" />
      <input type="text" placeholder="search" @keydown.enter="searchStr($event)"/>
    </div>
  </div>
</template>

<script setup>
/** éœ€æ±‚åˆ†æ
   *  pathæ¡†çš„å›¾ç‰‡æ˜¯å¯ä»¥åŠ¨æ€å˜åŒ–çš„
   *  è·¯å¾„æ¡†æ˜¯å¯ä»¥åŒ¹é…å†…å®¹çš„
   *  å‰è¿›åé€€æŒ‰é’®å¯ç”¨
   *  pathæ¡†å¯ä»¥æ“ä½œæ–‡ä»¶å¤¹
   *
   *  é¢„æµ‹æ¥æ”¶å‚æ•°ï¼š
   *    å½“å‰æ–‡ä»¶å¤¹è·¯å¾„ï¼Œæ•°ç»„å½¢å¼
   *    è§¦å‘å‡½æ•°ï¼š
   *      å‰è¿›ï¼Œåé€€
   *      æœç´¢ï¼Œå¹¶å°†å†…å®¹ä¼ é€’è‡³çˆ¶ç»„ä»¶
   */


  // const props = defineProps('pathArray')
  let headerIcon = ref('user-sm.png');
  let mock = reactive(['C:','img','setting','model']);
  let inputPath = computed({
    get(){
      return mock.join("/")
    },
    set(newValue){
      let newV = newValue.split("/")
      console.log(newV); 
    }
  })

  const goTargetPath = () => {
    console.log("okï¼Œæˆ‘å»è·³è½¬ï¼");
  }

  const searchStr = (e) => {
    console.log(e.target.value,"å¥½äº†å€¼æˆ‘æ‹¿åˆ°äº†ï¼Œæˆ‘å»searchäº†");
  }
</script>

<style lang="scss" scoped>
  .pathTool {
    display: flex;
    align-items: center;
    width: 100%;
    height: 50px;
    padding: 0.5em 1.3em;
    background-color: #ffffff;
    .historyBtn {
      font-size: 1.4em;
      margin-right: 0.5em;
    }

    .path {
      display: flex;
      align-items: center;
      padding: 0 0 0 0.5em;
      width: 60%;
      height: 100%;
      border: 1px solid #dddddd;

      img {
        width: 1em;
        height: 1em;
      }
      #input {
        width: 0;
        outline: none;
        border: 0;
        font-size: 0.8em;
      }
      #input:focus {
        width: 100%;
      }
      #input:focus + .path-content {
        display: none;
      }
      &-content {
        display: flex;
        align-items: center;
        margin-left: 0.5em;
        font-size: 0.8em;
        span {
          margin-left: 0.5em;
          &::after {
            content: '>';
            margin-left: 0.5em;
          }
        }
      }
    }
    .search {
      display: flex;
      align-items: center;
      margin-left: 10px;
      padding: 0.6em 1em;
      flex: 1;
      height: 100%;
      border: 1px solid #dddddd;

      img {
        width: 0.8em;
        height: 0.8em;
      }
      input {
        outline: none;
        border: 0;
        font-size: 0.8em;
        padding-left: 0.8em;
      }
    }
  }
</style>
